(this["webpackJsonpcreate-react-app"]=this["webpackJsonpcreate-react-app"]||[]).push([[0],{304:function(e,a,t){e.exports=t(600)},492:function(e,a){},494:function(e,a){},558:function(e,a){},560:function(e,a){},582:function(e,a){},583:function(e,a){},585:function(e,a){},587:function(e,a){},595:function(e,a){},597:function(e,a){},600:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(14),o=t.n(c),l=t(669),i=t(158),m=t(74),s=t(109),u=t(248),p=t(4),d=t(656),E=t(679),g=t(680),b=t(670),f=t(671),h=t(675),y=t(88),x=t(674),v=t(672),w=t(673),k=t(676),S=t(677),j=t(270),O=t(668),C=t(264),N=t.n(C),B=t(266),M=t.n(B),T=t(265),D=t.n(T),I=t(681),L=t(653),A=t(654),R=t(655),P=t(249),G=t.n(P),H=t(250),J=t.n(H),K=t(251),z=t.n(K),F=t(253),U=t.n(F),V=t(252),W=t.n(V),q=t(254),X=t.n(q),Y=r.a.createElement("div",null,r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(G.a,null)),r.a.createElement(A.a,{primary:"Airborne"})),r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(J.a,null)),r.a.createElement(A.a,{primary:"Operation Dinner Out"})),r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(z.a,null)),r.a.createElement(A.a,{primary:"Flash"})),r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(W.a,null)),r.a.createElement(A.a,{primary:"Mike"})),r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(U.a,null)),r.a.createElement(A.a,{primary:"Golf"}))),Z=r.a.createElement("div",null,r.a.createElement(R.a,{inset:!0},"Locations"),r.a.createElement(I.a,{button:!0},r.a.createElement(L.a,null,r.a.createElement(X.a,null)),r.a.createElement(A.a,{primary:"Danger Zone"}))),_=t(68),Q=t(37);function $(e){return r.a.createElement(y.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function ee(e){var a=Object(_.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement($,null," Historical Vehicle Count"),r.a.createElement(Q.d,null,r.a.createElement(Q.c,{data:e.data,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(Q.e,{dataKey:"time",stroke:a.palette.text.secondary}),r.a.createElement(Q.f,{stroke:a.palette.text.secondary},r.a.createElement(Q.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:a.palette.text.primary}},"Count")),r.a.createElement(Q.b,{type:"monotone",dataKey:"car",stroke:a.palette.primary.main,dot:!1}),r.a.createElement(Q.b,{type:"monotone",dataKey:"truck",stroke:a.palette.primary.secondary,dot:!1}),r.a.createElement(Q.b,{type:"monotone",dataKey:"garbage truck",stroke:a.palette.primary.error,dot:!1}))))}var ae=Object(d.a)({depositContext:{flex:1}});function te(e){var a=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement($,null,"Currently Detected"),r.a.createElement(y.a,{component:"p",variant:"h4"},e.cars),r.a.createElement(y.a,{color:"textSecondary",className:a.depositContext},"Cars"),r.a.createElement(y.a,{component:"p",variant:"h4"},e.trucks),r.a.createElement(y.a,{color:"textSecondary",className:a.depositContext},"Trucks"),r.a.createElement(y.a,{component:"p",variant:"h4"},e.garbageTrucks),r.a.createElement(y.a,{color:"textSecondary",className:a.depositContext},"Garbage Trucks"))}var ne=t(657),re=t(658),ce=t(661),oe=t(660),le=t(659),ie=t(662);var me=Object(d.a)({root:{maxWidth:345},media:{height:140,width:200}});function se(e){var a=me();return r.a.createElement(ne.a,{className:a.root},r.a.createElement(re.a,null,r.a.createElement(le.a,{className:a.media,image:e.image,title:"Detected Object"}),r.a.createElement(oe.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.timestamp))),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{size:"small",color:"primary"},"Share")))}t(663),t(667),t(666),t(664),t(665);function ue(e,a,t,n,r,c){return{id:e,date:a,name:t,shipTo:n,paymentMethod:r,amount:c}}ue(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),ue(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),ue(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),ue(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),ue(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79);Object(d.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));var pe=t(263),de=t.n(pe),Ee=window.location.hostname;console.log("window.location.hostname: "+Ee);var ge=new URL(window.location.href);console.log("url: "+ge),ge.protocol="ws:",ge.port=9001,ge.pathname="/",console.log("url: "+ge);var be=ge.toString();var fe={getClient:function(){var e=de.a.connect(be);return e.stream.on("error",(function(a){e.end()})),e},subscribe:function(e,a){return e.subscribe("/stakeout-box"+a,(function(e,a){e&&console.log("Subscription request failed")}))},onMessage:function(e,a){e.on("message",(function(e,t,n){a(t,e)}))},unsubscribe:function(e,a){e.unsubscribe("/stakeout-box"+a)},closeConnection:function(e){e.end()}};function he(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(O.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var ye=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function xe(){var e=ye(),a=r.a.useState(null),t=Object(m.a)(a,2),c=(t[0],t[1]),o=r.a.useState(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],O=r.a.useState([]),C=Object(m.a)(O,2),B=C[0],T=C[1],I=r.a.useState([]),L=Object(m.a)(I,2),A=L[0],R=L[1],P=r.a.useState([]),G=Object(m.a)(P,2),H=G[0],J=G[1],K=Object(n.useRef)(),z=Object(n.useRef)(),F=Object(p.a)(e.paper,e.fixedHeight);function U(e,a){if(console.log(a),"/stakeout-box/detection-count"==a){(e=JSON.parse(new TextDecoder("utf-8").decode(e))).time=(new Date).toLocaleTimeString(),e.car=e.car||0,e.truck=e.truck||0,e["garbage truck"]=e["garbage truck"]||0,console.log(e),R(e);var t=[].concat(Object(i.a)(K.current),[e]);T(t)}if("/stakeout-box/detection-image"==a){var n={time:(new Date).toLocaleTimeString()},r=new Blob([e],{type:"image/jpeg"}),c=URL.createObjectURL(r);n.image=c;var o=[].concat(Object(i.a)(z.current),[n]);J(o),console.log(z.current)}}return K.current=B,z.current=H,Object(n.useEffect)((function(){var e=fe.getClient();return c(e),fe.onMessage(e,U),fe.subscribe(e,"/detection-count"),fe.subscribe(e,"/detection-image"),function(){return fe.closeConnection(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(l.a,null),r.a.createElement(b.a,{position:"absolute",className:Object(p.a)(e.appBar,u&&e.appBarShift)},r.a.createElement(f.a,{className:e.toolbar},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(p.a)(e.menuButton,u&&e.menuButtonHidden)},r.a.createElement(N.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Stakeout Box"),r.a.createElement(v.a,{color:"inherit"},r.a.createElement(w.a,{badgeContent:4,color:"secondary"},r.a.createElement(D.a,null))))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(p.a)(e.drawerPaper,!u&&e.drawerPaperClose)},open:u},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(v.a,{onClick:function(){d(!1)}},r.a.createElement(M.a,null))),r.a.createElement(x.a,null),r.a.createElement(h.a,null,Y),r.a.createElement(x.a,null),r.a.createElement(h.a,null,Z)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(k.a,{maxWidth:"lg",className:e.container},r.a.createElement(S.a,{container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(j.a,{className:e.paper},r.a.createElement("img",{src:"/video_feed.jpg"}))),r.a.createElement(S.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(j.a,{className:F},r.a.createElement(ee,{data:B,test:"test"}))),r.a.createElement(S.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(j.a,{className:e.paper},r.a.createElement(te,{cars:A.car,trucks:A.truck,garbageTrucks:A["garbage truck"]}))),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(j.a,{className:e.paper},r.a.createElement(S.a,{container:!0,spacing:10},H.map((function(e,a){return r.a.createElement(S.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(se,{key:a,image:e.image,timestamp:e.time,objects:e.objects}))})))))),r.a.createElement(g.a,{pt:4},r.a.createElement(he,null)))))}var ve=t(678),we=t(121),ke=t(267),Se=Object(ke.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:we.a.A400},background:{default:"#fff"}}});o.a.render(r.a.createElement(ve.a,{theme:Se},r.a.createElement(l.a,null),r.a.createElement(xe,null)),document.querySelector("#root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.cafe90eb.chunk.js.map